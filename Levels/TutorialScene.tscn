[gd_scene load_steps=28 format=3 uid="uid://bpbigqd0kh8jl"]

[ext_resource type="Script" path="res://addons/godot-xr-tools/staging/scene_base.gd" id="1_kokxf"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/xr/start_xr.gd" id="2_nbb7d"]
[ext_resource type="PackedScene" uid="uid://gfsiok4vwprp" path="res://Models/NewDirtWFlower.tscn" id="3_r3v3v"]
[ext_resource type="MeshLibrary" uid="uid://cbfk01yl24u8u" path="res://Assets/BlenderAssets/MapBuilder.tres" id="4_oaay8"]
[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/misc/vr_common_shader_cache.tscn" id="5_ui6gx"]
[ext_resource type="PackedScene" uid="uid://cfsaqg2yi7ufe" path="res://addons/godot-xr-tools/staging/goal.tscn" id="6_p6m8x"]
[ext_resource type="Script" path="res://Players/LeftController.gd" id="6_vvmci"]
[ext_resource type="PackedScene" uid="uid://bu07alt6vkbaq" path="res://addons/godot-xr-tools/hands/model/Hand_Glove_L.gltf" id="7_gt3yv"]
[ext_resource type="PackedScene" uid="uid://bl2nuu3qhlb5k" path="res://addons/godot-xr-tools/functions/movement_direct.tscn" id="8_lyt4v"]
[ext_resource type="Script" path="res://Players/RightController.gd" id="9_3cb0y"]
[ext_resource type="PackedScene" uid="uid://c2q5phg8w08o" path="res://addons/godot-xr-tools/functions/movement_jump.tscn" id="10_v2ffx"]
[ext_resource type="PackedScene" uid="uid://clt88d5d1dje4" path="res://addons/godot-xr-tools/functions/movement_crouch.tscn" id="11_hj35k"]
[ext_resource type="PackedScene" uid="uid://b6bk2pj8vbj28" path="res://addons/godot-xr-tools/functions/movement_turn.tscn" id="12_6klom"]
[ext_resource type="PackedScene" uid="uid://be025wg6tefx6" path="res://Models/WateringCan.tscn" id="13_nd114"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/player/player_body.gd" id="14_tbp5j"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/overrides/ground_physics_settings.gd" id="15_7yogv"]

[sub_resource type="BoxMesh" id="BoxMesh_nvo03"]
size = Vector3(20, 1, 20)

[sub_resource type="Gradient" id="Gradient_j8x0s"]
offsets = PackedFloat32Array(0, 0.539007, 1)
colors = PackedColorArray(0.468111, 0.233636, 5.19225e-08, 1, 0, 1, 0.282353, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_8xrub"]
frequency = 0.7673
fractal_type = 2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_5gjr7"]
width = 8192
height = 8192
color_ramp = SubResource("Gradient_j8x0s")
noise = SubResource("FastNoiseLite_8xrub")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ibwsh"]
albedo_color = Color(0, 1, 0.360784, 1)
albedo_texture = SubResource("NoiseTexture2D_5gjr7")

[sub_resource type="BoxShape3D" id="BoxShape3D_8xaeh"]
size = Vector3(20, 1, 20)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ik6b8"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0, 0, 0, 1)
sky_cover_modulate = Color(0, 0, 0, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)
ground_energy_multiplier = 0.0
sun_angle_max = 0.0

[sub_resource type="Sky" id="Sky_u67xw"]
sky_material = SubResource("ProceduralSkyMaterial_ik6b8")

[sub_resource type="Environment" id="Environment_rdjm5"]
background_mode = 2
background_energy_multiplier = 2.5
sky = SubResource("Sky_u67xw")
sky_custom_fov = 110.0

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_y1rnk"]

[sub_resource type="Resource" id="Resource_86hmr"]
script = ExtResource("15_7yogv")
flags = 16
move_drag = 5.0
move_traction = 30.0
stop_on_slope = true
move_max_slope = 45.0
jump_max_slope = 45.0
jump_velocity = 7.0
bounciness = 0.0
bounce_threshold = 1.0

[node name="Root" type="Node3D"]
script = ExtResource("1_kokxf")

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_nvo03")
surface_material_override/0 = SubResource("StandardMaterial3D_ibwsh")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground"]
collision_layer = 2
collision_mask = 31

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D"]
shape = SubResource("BoxShape3D_8xaeh")

[node name="FlowerSpawnPoint" type="Node3D" parent="."]
transform = Transform3D(0.3, 0, 0, 0, 0.2, 0, 0, 0, 0.3, 2.08165e-12, 1.4, 2.08165e-12)

[node name="XRToolsStartXR" type="Node" parent="."]
script = ExtResource("2_nbb7d")

[node name="Dirt" parent="." instance=ExtResource("3_r3v3v")]

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("4_oaay8")
collision_layer = 2
collision_mask = 4
data = {
"cells": PackedInt32Array(5, 65531, 1441803, 5, 65532, 1441803, 5, 65533, 1441803, 5, 65534, 1441803, 5, 65535, 1441803, 5, 0, 1441803, 5, 1, 1441803, 5, 2, 1441803, 5, 3, 1441803, 5, 4, 1441803, 65531, 5, 1441803, 65532, 5, 1441803, 65533, 5, 1441803, 65534, 5, 1441803, 65535, 5, 1441803, 0, 5, 1441803, 1, 5, 1441803, 2, 5, 1441803, 3, 5, 1441803, 4, 5, 1441803, 65530, 65531, 1441803, 65530, 65532, 1441803, 65530, 65533, 1441803, 65530, 65534, 1441803, 65530, 65535, 1441803, 65530, 0, 1441803, 65530, 1, 1441803, 65530, 2, 1441803, 65530, 3, 1441803, 65530, 4, 1441803, 65531, 65530, 1441803, 65532, 65530, 1441803, 65533, 65530, 1441803, 65534, 65530, 1441803, 4, 65530, 1441803, 3, 65530, 1441803, 2, 65530, 1441803, 1, 65530, 1441803, 65541, 65531, 11, 65541, 65532, 11, 65541, 65533, 11, 65541, 65534, 11, 65541, 65535, 11, 65541, 0, 11, 65541, 1, 11, 65541, 2, 11, 65541, 3, 11, 65541, 4, 11, 131077, 65531, 11, 131077, 65532, 11, 131077, 65533, 11, 131077, 65534, 11, 131077, 65535, 11, 131077, 0, 11, 131077, 1, 11, 131077, 2, 11, 131077, 3, 11, 131077, 4, 11, 196613, 65531, 11, 196613, 65532, 11, 196613, 65533, 11, 196613, 65534, 11, 196613, 65535, 11, 196613, 0, 11, 196613, 1, 11, 196613, 2, 11, 196613, 3, 11, 196613, 4, 11, 262149, 65531, 11, 262149, 65532, 11, 262149, 65533, 11, 262149, 65534, 11, 262149, 65535, 11, 262149, 0, 11, 262149, 1, 11, 262149, 2, 11, 262149, 3, 11, 262149, 4, 11, 327685, 65531, 11, 327685, 65532, 11, 327685, 65533, 11, 327685, 65534, 11, 327685, 65535, 11, 327685, 0, 11, 327685, 1, 11, 327685, 2, 11, 327685, 3, 11, 327685, 4, 11, 393221, 65531, 11, 393221, 65532, 11, 393221, 65533, 11, 393221, 65534, 11, 393221, 65535, 11, 393221, 0, 11, 393221, 1, 11, 393221, 2, 11, 393221, 3, 11, 393221, 4, 11, 458757, 65531, 11, 458757, 65532, 11, 458757, 65533, 11, 458757, 65534, 11, 458757, 65535, 11, 458757, 0, 11, 458757, 1, 11, 458757, 2, 11, 458757, 3, 11, 458757, 4, 11, 524293, 65531, 11, 524293, 65532, 11, 524293, 65533, 11, 524293, 65534, 11, 524293, 65535, 11, 524293, 0, 11, 524293, 1, 11, 524293, 2, 11, 524293, 3, 11, 524293, 4, 11, 589829, 65531, 11, 589829, 65532, 11, 589829, 65533, 11, 589829, 65534, 11, 589829, 65535, 11, 589829, 0, 11, 589829, 1, 11, 589829, 2, 11, 589829, 3, 11, 589829, 4, 11, 131067, 5, 11, 196603, 5, 11, 262139, 5, 11, 327675, 5, 11, 393211, 5, 11, 458747, 5, 11, 524283, 5, 11, 589819, 5, 11, 655355, 5, 11, 131068, 5, 11, 196604, 5, 11, 262140, 5, 11, 327676, 5, 11, 393212, 5, 11, 458748, 5, 11, 524284, 5, 11, 589820, 5, 11, 655356, 5, 11, 131069, 5, 11, 196605, 5, 11, 262141, 5, 11, 327677, 5, 11, 393213, 5, 11, 458749, 5, 11, 524285, 5, 11, 589821, 5, 11, 655357, 5, 11, 131070, 5, 11, 196606, 5, 11, 262142, 5, 11, 327678, 5, 11, 393214, 5, 11, 458750, 5, 11, 524286, 5, 11, 589822, 5, 11, 655358, 5, 11, 131071, 5, 11, 196607, 5, 11, 262143, 5, 11, 327679, 5, 11, 393215, 5, 11, 458751, 5, 11, 524287, 5, 11, 589823, 5, 11, 655359, 5, 11, 65536, 5, 11, 131072, 5, 11, 196608, 5, 11, 262144, 5, 11, 327680, 5, 11, 393216, 5, 11, 458752, 5, 11, 524288, 5, 11, 589824, 5, 11, 65537, 5, 11, 131073, 5, 11, 196609, 5, 11, 262145, 5, 11, 327681, 5, 11, 393217, 5, 11, 458753, 5, 11, 524289, 5, 11, 589825, 5, 11, 65538, 5, 11, 131074, 5, 11, 196610, 5, 11, 262146, 5, 11, 327682, 5, 11, 393218, 5, 11, 458754, 5, 11, 524290, 5, 11, 589826, 5, 11, 65539, 5, 11, 131075, 5, 11, 196611, 5, 11, 262147, 5, 11, 327683, 5, 11, 393219, 5, 11, 458755, 5, 11, 524291, 5, 11, 589827, 5, 11, 65540, 5, 11, 131076, 5, 11, 196612, 5, 11, 262148, 5, 11, 327684, 5, 11, 393220, 5, 11, 458756, 5, 11, 524292, 5, 11, 589828, 5, 11, 131066, 65531, 11, 131066, 65532, 11, 131066, 65533, 11, 131066, 65534, 11, 131066, 65535, 11, 131066, 0, 11, 131066, 1, 11, 131066, 2, 11, 131066, 3, 11, 131066, 4, 11, 196602, 65531, 11, 196602, 65532, 11, 196602, 65533, 11, 196602, 65534, 11, 196602, 65535, 11, 196602, 0, 11, 196602, 1, 11, 196602, 2, 11, 196602, 3, 11, 196602, 4, 11, 262138, 65531, 11, 262138, 65532, 11, 262138, 65533, 11, 262138, 65534, 11, 262138, 65535, 11, 262138, 0, 11, 262138, 1, 11, 262138, 2, 11, 262138, 3, 11, 262138, 4, 11, 327674, 65531, 11, 327674, 65532, 11, 327674, 65533, 11, 327674, 65534, 11, 327674, 65535, 11, 327674, 0, 11, 327674, 1, 11, 327674, 2, 11, 327674, 3, 11, 327674, 4, 11, 393210, 65531, 11, 393210, 65532, 11, 393210, 65533, 11, 393210, 65534, 11, 393210, 65535, 11, 393210, 0, 11, 393210, 1, 11, 393210, 2, 11, 393210, 3, 11, 393210, 4, 11, 458746, 65531, 11, 458746, 65532, 11, 458746, 65533, 11, 458746, 65534, 11, 458746, 65535, 11, 458746, 0, 11, 458746, 1, 11, 458746, 2, 11, 458746, 3, 11, 458746, 4, 11, 524282, 65531, 11, 524282, 65532, 11, 524282, 65533, 11, 524282, 65534, 11, 524282, 65535, 11, 524282, 0, 11, 524282, 1, 11, 524282, 2, 11, 524282, 3, 11, 524282, 4, 11, 589818, 65531, 11, 589818, 65532, 11, 589818, 65533, 11, 589818, 65534, 11, 589818, 65535, 11, 589818, 0, 11, 589818, 1, 11, 589818, 2, 11, 589818, 3, 11, 589818, 4, 11, 655354, 65531, 11, 655354, 65532, 11, 655354, 65533, 11, 655354, 65534, 11, 655354, 65535, 11, 655354, 0, 11, 655354, 1, 11, 655354, 2, 11, 655354, 3, 11, 655354, 4, 11, 65537, 65530, 11, 131073, 65530, 11, 196609, 65530, 11, 262145, 65530, 11, 327681, 65530, 11, 393217, 65530, 11, 458753, 65530, 11, 524289, 65530, 11, 589825, 65530, 11, 65538, 65530, 11, 131074, 65530, 11, 196610, 65530, 11, 262146, 65530, 11, 327682, 65530, 11, 393218, 65530, 11, 458754, 65530, 11, 524290, 65530, 11, 589826, 65530, 11, 65539, 65530, 11, 131075, 65530, 11, 196611, 65530, 11, 262147, 65530, 11, 327683, 65530, 11, 393219, 65530, 11, 458755, 65530, 11, 524291, 65530, 11, 589827, 65530, 11, 65540, 65530, 11, 131076, 65530, 11, 196612, 65530, 11, 262148, 65530, 11, 327684, 65530, 11, 393220, 65530, 11, 458756, 65530, 11, 524292, 65530, 11, 589828, 65530, 11, 131067, 65530, 11, 196603, 65530, 11, 262139, 65530, 11, 327675, 65530, 11, 393211, 65530, 11, 458747, 65530, 11, 524283, 65530, 11, 589819, 65530, 11, 655355, 65530, 11, 131068, 65530, 11, 196604, 65530, 11, 262140, 65530, 11, 327676, 65530, 11, 393212, 65530, 11, 458748, 65530, 11, 524284, 65530, 11, 589820, 65530, 11, 655356, 65530, 11, 131069, 65530, 11, 196605, 65530, 11, 262141, 65530, 11, 327677, 65530, 11, 393213, 65530, 11, 458749, 65530, 11, 524285, 65530, 11, 589821, 65530, 11, 655357, 65530, 11, 131070, 65530, 11, 196606, 65530, 11, 262142, 65530, 11, 327678, 65530, 11, 393214, 65530, 11, 458750, 65530, 11, 524286, 65530, 11, 589822, 65530, 11, 655358, 65530, 11, 196607, 65530, 11, 262143, 65530, 11, 327679, 65530, 11, 393215, 65530, 11, 458751, 65530, 11, 524287, 65530, 11, 589823, 65530, 11, 655359, 65530, 11, 131072, 65530, 11, 196608, 65530, 11, 262144, 65530, 11, 327680, 65530, 11, 393216, 65530, 11, 458752, 65530, 11, 524288, 65530, 11, 589824, 65530, 11, 65530, 65530, 11, 131066, 65530, 11, 196602, 65530, 11, 262138, 65530, 11, 327674, 65530, 11, 393210, 65530, 11, 458746, 65530, 11, 524282, 65530, 11, 589818, 65530, 11, 655354, 65530, 11, 5, 65530, 11, 65541, 65530, 11, 131077, 65530, 11, 196613, 65530, 11, 262149, 65530, 11, 327685, 65530, 11, 393221, 65530, 11, 458757, 65530, 11, 524293, 65530, 11, 589829, 65530, 11, 131066, 5, 11, 196602, 5, 11, 262138, 5, 11, 327674, 5, 11, 393210, 5, 11, 458746, 5, 11, 524282, 5, 11, 589818, 5, 11, 655354, 5, 11, 65530, 5, 11, 5, 5, 11, 65541, 5, 11, 131077, 5, 11, 196613, 5, 11, 262149, 5, 11, 327685, 5, 11, 393221, 5, 11, 458757, 5, 11, 524293, 5, 11, 589829, 5, 11, 655355, 65531, 11, 655355, 65532, 11, 655355, 65533, 11, 655355, 65534, 11, 655355, 65535, 11, 655355, 0, 11, 655355, 1, 11, 655355, 2, 11, 655355, 3, 11, 655355, 4, 11, 655356, 65531, 11, 655356, 65532, 11, 655356, 65533, 11, 655356, 65534, 11, 655356, 65535, 11, 655356, 0, 11, 655356, 1, 11, 655356, 2, 11, 655356, 3, 11, 655356, 4, 11, 655357, 65531, 11, 655357, 65532, 11, 655357, 65533, 11, 655357, 65534, 11, 655357, 65535, 11, 655357, 0, 11, 655357, 1, 11, 655357, 2, 11, 655357, 3, 11, 655357, 4, 11, 655358, 65531, 11, 655358, 65532, 11, 655358, 65533, 11, 655358, 65534, 11, 655358, 65535, 11, 655358, 0, 11, 655358, 1, 11, 655358, 2, 11, 655358, 3, 11, 655358, 4, 11, 655359, 65531, 11, 655359, 65532, 11, 655359, 65533, 11, 655359, 65534, 11, 655359, 65535, 11, 655359, 0, 11, 655359, 1, 11, 655359, 2, 11, 655359, 3, 11, 655359, 4, 11, 589824, 65531, 11, 589824, 65532, 11, 589824, 65533, 11, 589824, 65534, 11, 589824, 65535, 11, 589824, 0, 11, 589824, 1, 11, 589824, 2, 11, 589824, 3, 11, 589824, 4, 11, 589825, 65531, 11, 589825, 65532, 11, 589825, 65533, 11, 589825, 65534, 11, 589825, 65535, 11, 589825, 0, 11, 589825, 1, 11, 589825, 2, 11, 589825, 3, 11, 589825, 4, 11, 589826, 65531, 11, 589826, 65532, 11, 589826, 65533, 11, 589826, 65534, 11, 589826, 65535, 11, 589826, 0, 11, 589826, 1, 11, 589826, 2, 11, 589826, 3, 11, 589826, 4, 11, 589827, 65531, 11, 589827, 65532, 11, 589827, 65533, 11, 589827, 65534, 11, 589827, 65535, 11, 589827, 0, 11, 589827, 1, 11, 589827, 2, 11, 589827, 3, 11, 589827, 4, 11, 589828, 65531, 11, 589828, 65532, 11, 589828, 65533, 11, 589828, 65534, 11, 589828, 65535, 11, 589828, 0, 11, 589828, 1, 11, 589828, 2, 11, 589828, 3, 11, 589828, 4, 11, 65536, 65530, 11, 131071, 65530, 11, 65535, 65530, 11, 0, 65530, 11)
}
metadata/_editor_floor_ = Vector3(-6, 9, 1)

[node name="XROrigin3D" type="XROrigin3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 4.131, 8)
current = true

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
environment = SubResource("Environment_rdjm5")
attributes = SubResource("CameraAttributesPractical_y1rnk")
doppler_tracking = 1
current = true
fov = 110.0

[node name="VRCommonShaderCache" parent="XROrigin3D/XRCamera3D" instance=ExtResource("5_ui6gx")]

[node name="Left" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 2.08165e-12, 2.08165e-12)
tracker = &"left_hand"
script = ExtResource("6_vvmci")

[node name="Hand_Glove_L" parent="XROrigin3D/Left" instance=ExtResource("7_gt3yv")]

[node name="MovementDirect" parent="XROrigin3D/Left" instance=ExtResource("8_lyt4v")]
strafe = true
input_action = "primary"

[node name="Right" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 2.08165e-12, 2.08165e-12)
tracker = &"right_hand"
script = ExtResource("9_3cb0y")

[node name="MovementJump" parent="XROrigin3D/Right" instance=ExtResource("10_v2ffx")]
jump_button_action = "ax_button"

[node name="MovementCrouch" parent="XROrigin3D/Right" instance=ExtResource("11_hj35k")]
crouch_button_action = "by_button"

[node name="MovementTurn" parent="XROrigin3D/Right" instance=ExtResource("12_6klom")]
turn_mode = 2
input_action = "secondary"

[node name="WateringCan" parent="XROrigin3D/Right" node_paths=PackedStringArray("root_node") instance=ExtResource("13_nd114")]
root_node = NodePath("../../..")

[node name="XRToolsPlayerBody" type="CharacterBody3D" parent="XROrigin3D"]
top_level = true
collision_layer = 4
collision_mask = 15
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("14_tbp5j")
player_height_min = 1.5
physics = SubResource("Resource_86hmr")

[node name="Goal" parent="." instance=ExtResource("6_p6m8x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.5, -7.393)
target_scene = "res://Levels/Level1.tscn"

[node name="LevelName" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 4, 5)
modulate = Color(1, 1, 0, 1)
text = "TUTORIAL LEVEL"
font_size = 70

[node name="Description" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 3.5, 5)
modulate = Color(0, 0.764706, 0.105882, 1)
text = "Welcome to Flower Odyssey."
font_size = 50

[node name="Flower Helper" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.5, 1.5)
modulate = Color(0, 0.764706, 0.105882, 1)
text = "Water this plant to continue:"
font_size = 50

[node name="Objective" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 2.5, 5)
modulate = Color(0.160784, 0.388235, 1, 1)
text = "Water all the plants in the level to open the goal."
font_size = 50
autowrap_mode = 2

[node name="Controls" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 2, 5)
modulate = Color(1, 0.164706, 0.0666667, 1)
text = "The controls are as follows:
b to crouch
a to jump
trigger to shoot
right stick to turn
left stick to move."
font_size = 50
autowrap_mode = 2

[connection signal="incrementFlowerCount" from="Dirt/Flower" to="Goal" method="_on_flower_increment_flower_count"]

[editable path="Dirt"]
